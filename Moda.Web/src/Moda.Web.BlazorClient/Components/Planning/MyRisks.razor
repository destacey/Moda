@if (Risks.Any())
{
    <MudCard Elevation="2">
        <MudCardContent>
            <MudText Typo="Typo.h6">My Assigned Risks</MudText>
            <MudList Clickable="true">
                @foreach (var risk in Risks)
                {
                    <MudListItem Dense="true" Text="@(FormatRiskMessage(risk))" OnClick="@(() => NavigateToRisk(risk.LocalId))" />
                }
            </MudList>
        </MudCardContent>            
    </MudCard>
}

@code {
    [Parameter]
    public List<RiskListDto> Risks { get; set; } = default!;

    private string FormatRiskMessage(RiskListDto risk)
    {
        var followUp = risk.FollowUpDate.HasValue
            ? $" (follow-up: {risk.FollowUpDate?.ToString("d")})"
            : string.Empty;
        return $"{risk.Summary}{followUp}";
    }

    private void NavigateToRisk(int id)
    {
        Navigation.NavigateTo($"/risks/{id}");
    }
}
